Throughout the US presidential campaign, Donald Trump boasted of his plan to ban Muslim visitors and immigrants from America. He often criticised Islam, conflating the religion with extremism, at campaign rallies and in television interviews. For more than a year, there were few consequences for Trump invoking an Islamic boogeyman.But today, Trump is finally paying a political price for his attacks on Islam. On 15 March, Derrick Watson, a federal judge in Hawaii, issued a temporary restraining order that blocked the president s revised travel ban against citizens of six Muslim-majority countries from going into effect. In his ruling, the judge relied on extensive public comments by Trump and his advisers, which undermine the administration s argument that its executive order did not amount to a Muslim ban. A second federal judge in Maryland issued a separate ruling which also delayed implementation of the policy.Trump and his advisers - including former New York City mayor Rudy Giuliani and White House senior policy adviser Stephen Miller - were so eager to prove their tough-on-Islam credentials during and after the campaign that they left a widespread trail of anti-Muslim rhetoric. Ironically, by being so outspoken about the ban and other measures, Trump and his aides undermined their ability to impose travel restrictions without running afoul of the US Constitution s Establishment Clause, which prohibits discrimination against a religious group. In the legal battles waged so far, Trump s own statements are his worst enemy.During the campaign, Trump rarely missed an opportunity to exploit any attack against civilians in the West, whether directed by Islamic extremists or carried out by lone wolf assailants who were inspired by jihadist propaganda, to argue for harsh measures against Muslims in America. In December 2015, days after a mass shooting in San Bernardino, California by a Muslim couple who declared their support for Islamic State s leader, Trump whipped up his supporters at a campaign rally. He called for a ban on all Muslim immigrants and visitors from entering the United States - until American leaders can figure out what the hell is going on. In his ruling, Judge Watson cited that comment and others by Trump and his surrogates during the campaign to conclude that the travel ban was primarily targeted against Muslims. These plainly worded statements betray the executive order s stated secular purpose, Watson wrote.A federal judge in Maryland, Theodore Chuang, found that Trump s public comments showed there are strong indications that the national security purpose is not the primary purpose for the travel ban. Trump abruptly issued his original executive order on 27 January, a week after his inauguration, unleashing chaos and mass protests at the nation s airports. The directive temporarily banned travel from seven Muslim-majority countries: Iraq, Iran, Libya, Syria, Somalia, Sudan and Yemen. The measure did not make exceptions for visa holders who were in transit as the ban went into effect, and was unclear whether it also applied to permanent US residents who were citizens of the seven countries. Trump s order also suspended refugee resettlement, and it suggested that Christian refugees and other minorities from the Muslim world would be given preference once refugees were again allowed into the United States.The original ban sparked several lawsuits by civil rights groups and state attorneys general, and it was blocked by a federal judge in Seattle. On 9 February, an appeals court upheld the judge s ruling. That injunction prompted the Trump administration to issue a revised executive order on 6 March, which dropped Iraq from the list of targeted countries and carved out exemptions for current visa and green card holders.As the administration worked to amend Trump s initial directive, some of the president s aides appeared on television to suggest that the changes would be minor adjustments designed to get around court challenges. Fundamentally, you re still going to have the same basic policy outcome for the country, Stephen Miller, Trump s senior policy adviser, told Fox News on 21 February. But you re going to be responsive to very technical issues that were brought up by the court. Miller s comments gave state attorneys general and other groups that filed lawsuits an opening to portray the revised ban as only a cosmetic change from Trump s initial policy. Both federal judges who issued injunctions last week, from Hawaii and Maryland, cited Miller s interview in their rulings.When Trump launched his presidential campaign in June 2015, his rhetoric tapped into a growing undercurrent of Islamophobia that had spread throughout the United States. Trump stuck with his attack on Muslims because it proved to be one of his most popular issues, according to exit polls in several Republican primaries. In the crucial 15 March 2016 contests, polls of voters in the five states that held elections showed that two-thirds of Republican voters supported Trump s proposal to ban Muslims.At other points during the campaign, Trump called on law enforcement officials to increase surveillance of Muslim American communities and mosques. He also said he would consider registering Muslim Americans in a database, or requiring Muslims to carry special identification cards. He argued, with little evidence, that such measures would prevent future attacks on US soil.Trump won votes because he was willing to go further than any other candidate in tarnishing Muslims. In March 2016, during an interview with CNN anchor Anderson Cooper, Trump declared: I think Islam hates us. When Cooper asked him to clarify whether the religion is at war with the West, Trump added, There s a tremendous hatred. We have to get to the bottom of it. There s an unbelievable hatred of us. One day after his CNN interview, the moderator of a Republican presidential debate asked Trump to clarify his comments: Did you mean all 1.6 billion Muslims? I mean a lot of them, Trump replied, prompting cheers from the crowd.In those interviews, Trump passed up several chances to differentiate between Islamic militants and the majority of the world s Muslims. His statements did not get the sustained attention they deserved, because of a crowded field of Republican candidates and the tendency of politicians and many segments of the media not to take Trump at his word.After securing the Republican presidential nomination last May, he refused to curtail his criticism of Islam to appeal to a wider American public in the general election. As long as the strategy of demonising Islam won him votes, he had little incentive to disavow it.But Trump is at last paying a price for this dangerous rhetoric, thanks to judges who are holding him to his word.Mohamad Bazzi is a journalism professor at New York University and former Middle East bureau chief at Newsday. He is writing a book on the proxy wars between Saudi Arabia and Iran.